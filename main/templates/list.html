{% extends 'layout.html' %}

{% block content %}
<div class="new">
    {% include 'newpost.html' %}
</div>
<div class="list">
    {% for post in posts %}
        <div class="post">
            <div class="post-infos">
                <div class="post-user">
                    <img src="{{ post.posted_by.profile_pic.url }}" alt="">
                    <div class="post-txts">
                        <h2>{{ post.posted_by.name }} <span>@{{ post.posted_by.username }}</span></h2>
                        <h4>Postado em: {{ post.time|date:"d/m/Y H:i" }}</h4>
                    </div>
                </div>
                {% if post.posted_by.username == request.user.username  %}
                    <div class="post-operations">
                        <a href="{% url 'edit_post' post.id %}">Editar</a>
                        <a href="{% url 'delete_post' post.id %}">Deletar</a>
                    </div>
                {% endif %}
            </div>
            <div class="post-content">
                <h1>{{ post.content }}</h1>
            </div>
            {% if post.image %}
                <div class="post-image">
                    <img src="{{ post.image.url }}" alt="Imagem do post">
                </div>
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}